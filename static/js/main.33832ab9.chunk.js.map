{"version":3,"sources":["components/ImageGalleryItem.module.css","components/Modal.module.css","App.module.css","components/ImageGallery.module.css","components/Button.module.css","components/Searchbar.js","components/ImageGallery.js","components/Modal.js","components/ImageGalleryItem.js","components/Button.js","services/Api.js","App.js","index.js","components/Searchbar.module.css"],"names":["module","exports","Searchbar","state","input","changeInput","event","setState","currentTarget","value","toLowerCase","makeSubmit","preventDefault","trim","props","onSubmit","className","s","SearchForm","this","type","SearchFormbutton","SearchFormbuttonlabel","SearchForminput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","Modal","handleKeyDown","code","closeModal","clickOver","target","window","addEventListener","removeEventListener","Overlay","onClick","src","url","alt","ImageGalleryItem","showModal","largeImg","openModal","dataset","img","largePic","hits","map","id","webformatURL","tags","largeImageURL","data-img","ImageGalleryItem_image","Button","loadMore","getPage","key","baseUrl","fetchPic","query","page","fetch","then","res","ok","json","Promise","reject","Error","catch","error","status","App","prevState","getInput","resetPage","prevProps","resetList","newPic","scrollTo","top","document","documentElement","scrollHeight","behavior","message","Loader","color","height","width","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.33832ab9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__QOj1q\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1n4SK\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3fE9Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3ttMh\",\"Modal\":\"Modal_Modal__1WMoE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3Avh_\",\"Loader\":\"App_Loader__Ten6P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1f0QM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2470e\"};","import PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    input: '',\n  };\n  changeInput = event => {\n    this.setState({ input: event.currentTarget.value.toLowerCase() });\n  };\n\n  makeSubmit = event => {\n    event.preventDefault();\n    if (this.state.input.trim() === '') {\n      return;\n    }\n    this.props.onSubmit(this.state.input);\n    this.setState({ input: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.makeSubmit}>\n          <button type={s.SearchFormbutton} className=\"SearchForm-button\">\n            <span className={s.SearchFormbuttonlabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForminput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.input}\n            onChange={this.changeInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ children }) => {\n  return <ul className={s.ImageGallery}>{children}</ul>;\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  clickOver = event => {\n    if (event.target === event.currentTarget) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return (\n      <div className={s.Overlay} onClick={this.clickOver}>\n        <div className={s.Modal}>\n          <img src={this.props.url} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  url: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\nimport Modal from './Modal';\n\nclass ImageGalleryItem extends Component {\n  state = {\n    showModal: false,\n    largeImg: '',\n  };\n\n  openModal = event => {\n    this.setState({ showModal: true });\n    const largeImg = event.target.dataset.img;\n    this.largePic = () => {\n      return largeImg;\n    };\n  };\n\n  closeModal = () => {\n    this.setState({ showModal: false });\n  };\n  render() {\n    return (\n      <>\n        {this.props.hits.map(({ id, webformatURL, tags, largeImageURL }) => (\n          <li key={id} className={s.ImageGalleryItem}>\n            <img\n              src={webformatURL}\n              alt={tags}\n              data-img={largeImageURL}\n              className={s.ImageGalleryItem_image}\n              onClick={this.openModal}\n            />\n          </li>\n        ))}\n        {this.state.showModal && (\n          <Modal url={this.largePic()} closeModal={this.closeModal} />\n        )}\n      </>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  hits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n};\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport s from './Button.module.css';\n\nclass Button extends Component {\n  loadMore = () => {\n    this.props.getPage();\n  };\n\n  render() {\n    return (\n      <button className={s.Button} type=\"button\" onClick={this.loadMore}>\n        Load More\n      </button>\n    );\n  }\n}\n\nButton.propTypes = {\n  getPage: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","const key = '18694203-d22239baec913b213273a87a8';\nconst baseUrl = 'https://pixabay.com/api/';\n\nconst fetchPic = (query, page = 1) => {\n  return fetch(\n    `${baseUrl}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n  )\n    .then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(new Error(`Нет картинок по запросу ${query}`));\n    })\n    .catch(error => this.state({ error, status: 'rejected' }));\n};\n\nexport default fetchPic;\n","import React, { Component } from 'react';\nimport s from './App.module.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Button from './components/Button';\nimport Loader from 'react-loader-spinner';\nimport fetchPic from './services/Api';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    hits: [],\n    error: null,\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const query = this.state.query;\n    const page = this.state.page;\n    if (this.state.query !== prevState.query) {\n      this.setState({ status: 'pending' });\n      this.resetList();\n      fetchPic(query, page).then(({ hits }) => {\n        const newPic = hits;\n        this.setState(({ hits }) => ({\n          hits: [...hits, ...newPic],\n          status: 'resolved',\n        }));\n      });\n      return;\n    }\n    if (this.state.page !== prevState.page) {\n      this.setState({ status: 'pending' });\n      fetchPic(this.state.query, this.state.page).then(({ hits }) => {\n        const newPic = hits;\n        this.setState(({ hits }) => ({\n          hits: [...hits, ...newPic],\n          status: 'resolved',\n        }));\n      });\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  resetList() {\n    this.setState({ hits: [] });\n  }\n\n  getPage = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  resetPage() {\n    this.setState({ page: 1 });\n  }\n\n  getInput = input => {\n    this.setState({ query: input });\n    this.resetPage();\n  };\n\n  render() {\n    const { hits, error, status } = this.state;\n    if (status === 'idle') {\n      return <Searchbar onSubmit={this.getInput} />;\n    }\n\n    if (status === 'rejected') {\n      return <h1>{error.message}</h1>;\n    } else {\n      return (\n        <>\n          <Searchbar onSubmit={this.getInput} />\n          <ImageGallery>\n            <ImageGalleryItem hits={hits} />\n          </ImageGallery>\n          {status === 'pending' ? (\n            <Loader\n              className={s.Loader}\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs\n            />\n          ) : null}\n          <div>{hits.length ? <Button getPage={this.getPage} /> : null}</div>\n        </>\n      );\n    }\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__w9qLI\",\"SearchForm\":\"Searchbar_SearchForm__71I-f\",\"SearchFormbutton\":\"Searchbar_SearchFormbutton__AKhkl\",\"SearchFormbuttonlabel\":\"Searchbar_SearchFormbuttonlabel__3DrIG\",\"SearchForminput\":\"Searchbar_SearchForminput__g_YEi\"};"],"sourceRoot":""}